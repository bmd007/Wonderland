<html>
<head>
    <meta charset="utf-8"/>
    <title>WebAuthn Demo</title>
    <link href="css/fonts.css" rel="stylesheet"/>
    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen"/>
    <link href="css/bootstrap-responsive.min.css" rel="stylesheet"/>
    <link href="css/bootstrap-yubico.css" rel="stylesheet"/>
    <style>

        .row {
            display: table-row;
        }

        .row > * {
            display: table-cell;
            padding: 0.2em;
        }

        input[type="text"] {
            height: 2em;
            margin: 0;
        }

    </style>

    <script src="lib/text-encoding-0.7.0/encoding.js"></script>
    <script src="lib/text-encoding-0.7.0/encoding-indexes.js"></script>
    <script src="lib/base64js/base64js-1.3.0.min.js"></script>
    <script src="lib/webauthn-json-0.6.1/dist/esm/webauthn-json.js"></script>
    <script src="js/base64url.js"></script>
    <script src="js/myScript.js"></script>

</head>
<body>

<div class="base">
    <div class="content">

        <h1> Test your WebAuthn device </h1>

        <form class="horizontal">
            <div class="row">
                <label for="username">Username:</label>
                <div><input type="text" id="username"/></div>
            </div>
            <div class="row">
                <label for="displayName">Display name:</label>
                <div><input type="text" id="displayName"/></div>
            </div>

            <div class="row">
                <label for="credentialNickname">Credential nickname:</label>
                <div><input type="text" id="credentialNickname"/></div>
                <div>
                    <button type="button" id="registerButton">
                        Register new account
                    </button>
                </div>
                <div>
                    <button type="button" id="registerRkButton">
                        Register new account with resident credential
                    </button>
                </div>
                <div>
                    <button type="button" id="registerPrefilledButton">
                        Register new account with prefilled credential
                    </button>
                </div>
            </div>

            <div class="row">
                <div></div>
                <div></div>
                <div>
                    <button type="button" id="authenticateWithUsernameButton">
                        Authenticate
                    </button>
                </div>
                <div>
                    <button type="button" id="authenticateButton">
                        Authenticate without username
                    </button>
                </div>
            </div>

            <div class="row">
                <label for="deregisterCredentialId">Credential ID:</label>
                <div><input type="text" id="deregisterCredentialId"/></div>
                <div>
                    <button type="button" id="deregisterButton">
                        Deregister
                    </button>
                </div>
            </div>
        </form>


        <p id="status"></p>
        <div id="messages"></div>

        <div id="device-info">
            <div id="device-name-row" class="row">
                <b>Device: </b><span id="device-name"></span>
            </div>
            <div id="device-nickname-row" class="row">
                <b>Nickname: </b><span id="device-nickname"></span>
            </div>
            <img id="device-icon"/>
        </div>

        Server response:
        <pre id="server-response"></pre>
        Authenticator response:
        <pre id="authenticator-response"></pre>
        Request:
        <pre id="request"></pre>

    </div>
</div>

</body>
</html>
